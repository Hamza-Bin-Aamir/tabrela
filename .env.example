# =============================================================================
# TABRELA - Unified Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment
# All backend services share this configuration file
# =============================================================================

# =============================================================================
# SHARED / GLOBAL SETTINGS
# =============================================================================

# PostgreSQL Database Connection
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/tabrela

# JWT Configuration (shared across all services)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRY=900        # 15 minutes in seconds
JWT_REFRESH_TOKEN_EXPIRY=604800    # 7 days in seconds

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
CORS_STRICT_MODE=false

# =============================================================================
# AUTH SERVICE (Port 8081)
# =============================================================================
AUTH_HOST=0.0.0.0
AUTH_PORT=8081

# Password Security
PASSWORD_PEPPER=your-super-secret-pepper-change-in-production

# CSRF Configuration
CSRF_TOKEN_EXPIRY=3600             # 1 hour in seconds

# Email Service Connection
EMAIL_SERVICE_URL=http://localhost:5000
EMAIL_SERVICE_API_KEY=your-service-api-key-change-in-production

# Email Verification Settings
EMAIL_VERIFICATION_EXPIRY=86400    # 24 hours in seconds
PASSWORD_RESET_EXPIRY=3600         # 1 hour in seconds

# =============================================================================
# ATTENDANCE SERVICE (Port 8082)
# =============================================================================
ATTENDANCE_HOST=0.0.0.0
ATTENDANCE_PORT=8082
AUTH_SERVICE_URL=http://localhost:8081

# =============================================================================
# MERIT SERVICE (Port 8083)
# =============================================================================
MERIT_HOST=0.0.0.0
MERIT_PORT=8083
# AUTH_SERVICE_URL is shared with attendance service

# =============================================================================
# TABULATION SERVICE (Port 8084)
# =============================================================================
TABULATION_HOST=0.0.0.0
TABULATION_PORT=8084
# AUTH_SERVICE_URL is shared with other services

# =============================================================================
# EMAIL SERVICE (Port 5000)
# =============================================================================
EMAIL_HOST=0.0.0.0
EMAIL_PORT=5000

# Resend Email Provider
RESEND_API_KEY=re_your_resend_api_key
FROM_EMAIL=noreply@yourdomain.com

# Service API Key (for internal service communication)
SERVICE_API_KEY=your-service-api-key-change-in-production

# Frontend URL (for email links)
FRONTEND_URL=http://localhost:5173

# =============================================================================
# FRONTEND (Port 5173)
# =============================================================================
VITE_AUTH_API_URL=http://localhost:8081
VITE_ATTENDANCE_API_URL=http://localhost:8082
VITE_MERIT_API_URL=http://localhost:8083
VITE_TABULATION_API_URL=http://localhost:8084
